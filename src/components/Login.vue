<template>
  <div>
    <div class="login-container">
      <!--  左侧图片-->
      <div class="login-banner"></div>
      <!--  右侧内容-->
      <div class="login-layout">
        <div class="login-scroll">
          <div class="content-box">
            <login-top/>
            <div class="login-content">
              <div class="login-toast">
                <div class="toast-pop" v-show="toastShow">
                  <i>
                    <svg t="1628820327163" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2102" width="18" height="18"><path d="M512.064 0c282.56 0 512 229.44 512 512s-229.44 512-512 512-512-229.44-512-512 229.44-512 512-512z m64 832v-128h-128v128h128z m-32-256a32 32 0 0 0 32-32v-320a32 32 0 0 0-32-32h-64a32 32 0 0 0-32 32v320a32 32 0 0 0 32 32h64z" fill="#FF5509" p-id="2103"></path></svg>
                  </i>
                  <p>{{toastMess}}</p>
                </div>
              </div>
              <div class="card">
                <div class="card-switch" @click="switchHandle">
                  <i :class="switchClass"></i>
                  <div class="ant-pop" ><span>{{switchMess}}</span><b></b></div>
                </div>
                <div class="acc-login" v-show="switchMess === '扫码登录'">
                  <div class="acc-top-bar">
                    <div class="tit">
                      <a id='log-in' :class='{active:!barShow}' href="#" @click.self="changeWay(0)">登录</a>
                      <a id='sign-in' :class='{active:barShow}' href="#" @click.self="changeWay(1)">注册</a>
                    </div>
                    <div class="ink-bar" :style="{left:barPosition}"></div>
                  </div>
                  <div class="acc-tab" :style="{margin:tabPos}">
                    <div class="f-box tab-0">
                      <form id="lt-form" class="lt-form" action="">
                        <div class="lt-form_content">
                          <login-input-text/>
                          <login-input-pas :messShow="pasMessShow"/>
                          <div style="position: relative">
                            <button class="btn-row" type="button" :style="loginBtnOpacity" :disabled="loginBtnActive" @click="sendLogin">登录</button>
                          </div>
                          <div class="help-row">
                            <div class="forget-pass">
                              <a href="#">忘记密码？</a>
                            </div>
                            <div class="phone-login">
                              <a href="#">手机号登录</a>
                            </div>
                          </div>
                        </div>
                        <div class="login-others">
                          <div class="tit">其他方式登录</div>
                          <div class="logo">
                            <div class="qq">
                              <a href="#" class="">
                                <svg t="1628237663699" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2387" width="46" height="46"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#12B7F5" p-id="2388"></path><path d="M729.018182 672.930909c-7.563636 0.930909-23.272727-14.545455-35.84-44.8a173.614545 173.614545 0 0 1-46.545455 81.454546c26.298182 6.981818 44.101818 20.596364 44.101818 36.18909 0 23.272727-38.050909 41.309091-84.945454 41.309091-34.909091 0-65.512727-10.472727-78.312727-25.483636q-8.029091 0.698182-16.174546 0.698182c-6.283636 0-12.567273 0-18.618182-0.930909-12.683636 15.010909-43.054545 25.6-78.545454 25.6-46.545455 0-84.829091-18.501818-84.829091-41.309091 0-16.174545 19.2-30.254545 47.243636-37.003637a175.709091 175.709091 0 0 1-46.545454-80.64c-11.636364 30.487273-28.276364 46.545455-35.723637 45.265455-9.774545-1.28-19.549091-31.534545-14.08-77.265455 3.607273-30.603636 20.48-68.072727 37.469091-80.523636a78.429091 78.429091 0 0 1 0-10.705454c3.141818-28.509091 7.796364-53.76 19.665455-56.203637a165.934545 165.934545 0 0 1-3.141818-31.883636C335.127273 321.396364 417.28 244.363636 512 244.363636s176.64 77.032727 176.64 172.218182a161.163636 161.163636 0 0 1-3.258182 32.116364c9.774545 0.698182 18.269091 26.065455 21.527273 56.203636a73.541818 73.541818 0 0 1 0 11.636364c16.523636 13.614545 32.465455 49.687273 35.956364 79.243636 5.352727 45.730909-4.538182 76.101818-14.196364 77.265455z" fill="#FFFFFF" p-id="2389"></path></svg>
                              </a>
                            </div>
                            <div class="wb">
                              <a href="#">
                                <svg t="1628237942699" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2668" width="46" height="46"><path d="M438.330935 583.68a16.649209 16.649209 0 0 0-4.71482 21.585036 13.113094 13.113094 0 0 0 19.448633 1.768058 17.606906 17.606906 0 0 0 5.893525-21.585036 13.702446 13.702446 0 0 0-20.627338-1.768058z m-53.704748 14.733813a40.665324 40.665324 0 0 0-36.318849 38.307914c0 17.754245 17.017554 29.983309 38.234245 27.478561s38.307914-18.711942 38.307913-36.318849-15.986187-31.972374-40.223309-29.688633zM512 0A512 512 0 1 0 1024 512 512 512 0 0 0 512 0z m230.436835 631.71223c-46.264173 98.642878-199.716835 146.748777-313.240864 138.129497-107.92518-8.471942-246.644029-44.201439-261.009496-174.89036 0 0-7.366906-58.935252 49.800288-135.698417 0 0 82.435683-115.218417 178.500143-148.074821s107.335827 22.690072 107.335828 55.325468c-5.083165 27.773237-14.733813 44.201439 21.437698 32.930072 0 0 94.51741-44.201439 133.414676-4.935827 31.383022 31.383022 5.156835 74.553094 5.156834 74.553093s-12.965755 14.733813 13.776116 19.595971 111.313957 44.12777 64.828777 143.065324z m-93.265036-272.575539a18.638273 18.638273 0 0 1 0-37.276547s115.80777-21.437698 102.031654 103.136691a6.482878 6.482878 0 0 1 0 1.989064 18.417266 18.417266 0 0 1-18.196259 15.396835 18.711942 18.711942 0 0 1-18.932949-18.785612s18.343597-82.951367-64.828777-64.5341z m195.886043 88.771223c-3.094101 21.29036-13.481439 28.067914-26.00518 28.067913-14.733813 0-26.962878-4.125468-26.962878-19.006618a79.341583 79.341583 0 0 1 5.230504-26.00518c1.54705-5.377842 14.14446-39.265612-8.324605-89.728921-41.181007-69.175252-124.132374-70.280288-133.930359-66.302158a123.469353 123.469353 0 0 1-24.45813 5.746187 27.183885 27.183885 0 0 1-27.036547-27.183885 27.55223 27.55223 0 0 1 19.74331-26.520864 1.915396 1.915396 0 0 1 0.663021-1.178705 30.425324 30.425324 0 0 1 2.578418-2.431079c11.566043-2.210072 52.74705-12.965755 92.823021-3.609784 71.606331 16.796547 169.954532 100.263597 125.679425 228.153094zM437.594245 465.367482c-112.713669 5.156835-203.842302 65.565468-203.842303 140.855252S324.880576 737.943022 437.594245 733.007194s204.063309-76.026475 204.063309-151.24259-91.275971-121.33295-204.063309-116.397122z m76.836834 189.403165c-34.477122 44.201439-103.136691 66.302158-169.438849 30.425324a58.935252 58.935252 0 0 1-30.425324-50.757985S301.748489 528.207194 415.12518 514.946763 548.834532 610.200863 514.431079 654.770647z" fill="#F3260B" p-id="2669"></path></svg>
                              </a>
                            </div>
                            <div class="zfb">
                              <a href="#">
                                <svg t="1628238669229" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2856" width="46" height="46"><path d="M230.404452 576.536487C218.3168 586.264487 205.360974 600.466922 201.598887 618.520487 196.478887 643.18553 200.530365 674.061357 224.327235 698.281183 253.155061 727.64327 296.964452 735.679443 315.886191 737.059617 367.286539 740.777183 422.070539 715.288487 463.364452 686.215791 479.548104 674.795965 507.262887 651.86727 533.753322 616.494748 474.383583 585.84153 400.277148 551.938226 321.050713 555.255096 280.580452 556.946922 251.5968 565.33927 230.404452 576.536487ZM983.262609 712.080696C1009.463652 650.573913 1024 582.967652 1024 512 1024 229.687652 794.334609 0 512 0 229.665391 0 0 229.687652 0 512 0 794.334609 229.665391 1024 512 1024 682.384696 1024 833.491478 940.27687 926.630957 811.876174 838.633739 768.133565 693.604174 696.141913 604.271304 652.577391 561.641739 701.17287 498.621217 749.879652 427.430957 771.072 382.70887 784.361739 342.394435 789.437217 300.232348 780.822261 258.493217 772.274087 227.750957 752.729043 209.830957 733.139478 200.704 723.144348 190.21913 710.433391 182.628174 695.318261 183.340522 697.232696 183.830261 698.368 183.830261 698.368 183.830261 698.368 179.46713 690.843826 176.128 678.867478 174.413913 673.079652 173.256348 667.046957 172.78887 660.72487 172.432696 656.584348 172.343652 652.221217 172.588522 647.68 172.210087 639.977739 172.521739 631.897043 174.258087 623.616 178.44313 603.38087 187.080348 579.806609 209.430261 557.924174 258.493217 509.885217 324.207304 507.302957 358.244174 507.503304 408.665043 507.792696 496.283826 529.853217 570.056348 555.942957 590.491826 512.422957 603.603478 465.875478 612.062609 434.843826L305.307826 434.843826 305.307826 401.67513 462.825739 401.67513 462.825739 335.337739 272.13913 335.337739 272.13913 302.169043 462.825739 302.169043 462.825739 235.853913C462.825739 226.749217 464.62887 219.269565 479.410087 219.269565L554.028522 219.269565 554.028522 302.169043 761.321739 302.169043 761.321739 335.337739 554.028522 335.337739 554.028522 401.67513 719.849739 401.67513C719.849739 401.67513 703.198609 494.502957 651.130435 585.99513 766.686609 627.266783 929.257739 690.843826 983.262609 712.080696Z" fill="#1296db" p-id="2857"></path></svg>
                              </a>
                            </div>
                            <div class="wx">
                              <a href="#">
                                <svg t="1628238718690" class="icon" viewBox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3044" width="46" height="46"><path d="M320.417684 308.224c-19.442526 0-39.073684 13.056-39.073684 32.848842 0 19.712 19.631158 32.929684 39.073684 32.929684 19.469474 0 32.525474-13.217684 32.525474-32.929684C352.943158 321.28 339.900632 308.224 320.417684 308.224z" fill="#3CB034" p-id="3045"></path><path d="M502.177684 374.016c19.631158 0 32.606316-13.231158 32.606316-32.929684 0-19.806316-12.975158-32.848842-32.606316-32.848842-19.442526 0-39.006316 13.056-39.006316 32.848842C463.184842 360.784842 482.735158 374.016 502.177684 374.016z" fill="#3CB034" p-id="3046"></path><path d="M512 0C229.214316 0 0 229.200842 0 512c0 282.785684 229.214316 512 512 512 282.799158 0 512.013474-229.214316 512.013474-512C1024.013474 229.200842 794.799158 0 512 0zM404.843789 644.082526c-32.444632 0-58.556632-6.642526-90.974316-13.217684l-90.799158 46.187789 25.936842-79.211789c-65.010526-46.066526-103.922526-105.364211-103.922526-177.650526 0-125.278316 116.992-223.905684 259.759158-223.905684 127.730526 0 239.602526 78.834526 262.036211 184.818526-8.178526-0.929684-16.559158-1.536-25.007158-1.536-123.392 0-220.820211 93.372632-220.820211 208.289684 0 19.213474 2.977684 37.645474 8.003368 55.228632C421.052632 643.745684 413.022316 644.082526 404.843789 644.082526zM787.968 736.242526l19.536842 65.886316L736.282947 762.610526c-26.044632 6.575158-52.048842 13.150316-77.918316 13.150316-123.567158 0-221.008842-85.598316-221.008842-190.976 0-105.283368 97.441684-191.056842 221.008842-191.056842 116.641684 0 220.577684 85.76 220.577684 191.056842C878.928842 644.082526 840.124632 696.656842 787.968 736.242526z" fill="#3CB034" p-id="3047"></path><path d="M729.532632 499.105684c-12.8 0-25.694316 13.231158-25.694316 26.381474 0 13.204211 12.894316 26.273684 25.694316 26.273684 19.536842 0 32.592842-13.069474 32.592842-26.273684C762.112 512.336842 749.069474 499.105684 729.532632 499.105684z" fill="#3CB034" p-id="3048"></path><path d="M586.657684 499.105684c-12.867368 0-25.923368 13.231158-25.923368 26.381474 0 13.204211 13.056 26.273684 25.923368 26.273684 19.712 0 32.525474-13.069474 32.525474-26.273684C619.183158 512.336842 606.369684 499.105684 586.657684 499.105684z" fill="#3CB034" p-id="3049"></path></svg>
                              </a>
                            </div>
                          </div>
                        </div>
                      </form>
                    </div>
                    <div class="f-box tab-1">
                      <form id="rt-form" class="rt-form" action="">
                        <div class="rt-form_content">
                          <div class="sign-before" v-show="!isSign">
                            <login-input-area/>
                            <login-input-phone :messShow="phoneMessShow"/>
                            <login-input-check :messShow="codeMessShow"/>
                            <div style="position: relative">
                              <button class="btn-row" type="button" :disabled="signBtnActive" :style="signBtnOpacity" @click="signHandle">注册</button>
                            </div>
                          </div>
                          <div class="sign-after" v-show="isSign">
                            <div class="row phone-tit">
                              <p>您注册的手机号为<p>
                              <p>{{this.$store.state.area.code}}</p>
                              <p>{{this.$store.state.phone}}</p>
                            </div>
                            <login-input-set-pas :messShow="setPasMessShow"/>
                            <login-input-confirm :messShow="cfPasMessShow"/>
                            <div style="position: relative">
                              <button class="btn-row" type="button" :disabled="nextBtnActive" :style="nextBtnOpacity" @click="nextHandle">下一步</button>
                            </div>
                          </div>
                          <div class="help-row">
                            <div class="cant">
                              <a href="#">收不到验证码？</a>
                            </div>
                          </div>
                        </div>
                        <div class="accept-terms">
                          <label class="container">
                            <span class="select">
                              <input type="checkbox" v-model="checked">
                              <span class="inner" :style="checkStyle"></span>
                            </span>
                            <span>
                              已阅读并同意小米账号
                              <a href="#">用户协议</a>
                              和
                              <a href="#">隐私政策</a>
                            </span>
                          </label>
                        </div>
                        <div class="login-others">
                          <div class="tit">其他方式登录</div>
                          <div class="logo">
                            <div class="qq">
                              <a href="#" class="">
                                <svg t="1628237663699" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2387" width="46" height="46"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#12B7F5" p-id="2388"></path><path d="M729.018182 672.930909c-7.563636 0.930909-23.272727-14.545455-35.84-44.8a173.614545 173.614545 0 0 1-46.545455 81.454546c26.298182 6.981818 44.101818 20.596364 44.101818 36.18909 0 23.272727-38.050909 41.309091-84.945454 41.309091-34.909091 0-65.512727-10.472727-78.312727-25.483636q-8.029091 0.698182-16.174546 0.698182c-6.283636 0-12.567273 0-18.618182-0.930909-12.683636 15.010909-43.054545 25.6-78.545454 25.6-46.545455 0-84.829091-18.501818-84.829091-41.309091 0-16.174545 19.2-30.254545 47.243636-37.003637a175.709091 175.709091 0 0 1-46.545454-80.64c-11.636364 30.487273-28.276364 46.545455-35.723637 45.265455-9.774545-1.28-19.549091-31.534545-14.08-77.265455 3.607273-30.603636 20.48-68.072727 37.469091-80.523636a78.429091 78.429091 0 0 1 0-10.705454c3.141818-28.509091 7.796364-53.76 19.665455-56.203637a165.934545 165.934545 0 0 1-3.141818-31.883636C335.127273 321.396364 417.28 244.363636 512 244.363636s176.64 77.032727 176.64 172.218182a161.163636 161.163636 0 0 1-3.258182 32.116364c9.774545 0.698182 18.269091 26.065455 21.527273 56.203636a73.541818 73.541818 0 0 1 0 11.636364c16.523636 13.614545 32.465455 49.687273 35.956364 79.243636 5.352727 45.730909-4.538182 76.101818-14.196364 77.265455z" fill="#FFFFFF" p-id="2389"></path></svg>
                              </a>
                            </div>
                            <div class="wb">
                              <a href="#">
                                <svg t="1628237942699" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2668" width="46" height="46"><path d="M438.330935 583.68a16.649209 16.649209 0 0 0-4.71482 21.585036 13.113094 13.113094 0 0 0 19.448633 1.768058 17.606906 17.606906 0 0 0 5.893525-21.585036 13.702446 13.702446 0 0 0-20.627338-1.768058z m-53.704748 14.733813a40.665324 40.665324 0 0 0-36.318849 38.307914c0 17.754245 17.017554 29.983309 38.234245 27.478561s38.307914-18.711942 38.307913-36.318849-15.986187-31.972374-40.223309-29.688633zM512 0A512 512 0 1 0 1024 512 512 512 0 0 0 512 0z m230.436835 631.71223c-46.264173 98.642878-199.716835 146.748777-313.240864 138.129497-107.92518-8.471942-246.644029-44.201439-261.009496-174.89036 0 0-7.366906-58.935252 49.800288-135.698417 0 0 82.435683-115.218417 178.500143-148.074821s107.335827 22.690072 107.335828 55.325468c-5.083165 27.773237-14.733813 44.201439 21.437698 32.930072 0 0 94.51741-44.201439 133.414676-4.935827 31.383022 31.383022 5.156835 74.553094 5.156834 74.553093s-12.965755 14.733813 13.776116 19.595971 111.313957 44.12777 64.828777 143.065324z m-93.265036-272.575539a18.638273 18.638273 0 0 1 0-37.276547s115.80777-21.437698 102.031654 103.136691a6.482878 6.482878 0 0 1 0 1.989064 18.417266 18.417266 0 0 1-18.196259 15.396835 18.711942 18.711942 0 0 1-18.932949-18.785612s18.343597-82.951367-64.828777-64.5341z m195.886043 88.771223c-3.094101 21.29036-13.481439 28.067914-26.00518 28.067913-14.733813 0-26.962878-4.125468-26.962878-19.006618a79.341583 79.341583 0 0 1 5.230504-26.00518c1.54705-5.377842 14.14446-39.265612-8.324605-89.728921-41.181007-69.175252-124.132374-70.280288-133.930359-66.302158a123.469353 123.469353 0 0 1-24.45813 5.746187 27.183885 27.183885 0 0 1-27.036547-27.183885 27.55223 27.55223 0 0 1 19.74331-26.520864 1.915396 1.915396 0 0 1 0.663021-1.178705 30.425324 30.425324 0 0 1 2.578418-2.431079c11.566043-2.210072 52.74705-12.965755 92.823021-3.609784 71.606331 16.796547 169.954532 100.263597 125.679425 228.153094zM437.594245 465.367482c-112.713669 5.156835-203.842302 65.565468-203.842303 140.855252S324.880576 737.943022 437.594245 733.007194s204.063309-76.026475 204.063309-151.24259-91.275971-121.33295-204.063309-116.397122z m76.836834 189.403165c-34.477122 44.201439-103.136691 66.302158-169.438849 30.425324a58.935252 58.935252 0 0 1-30.425324-50.757985S301.748489 528.207194 415.12518 514.946763 548.834532 610.200863 514.431079 654.770647z" fill="#F3260B" p-id="2669"></path></svg>
                              </a>
                            </div>
                            <div class="zfb">
                              <a href="#">
                                <svg t="1628238669229" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2856" width="46" height="46"><path d="M230.404452 576.536487C218.3168 586.264487 205.360974 600.466922 201.598887 618.520487 196.478887 643.18553 200.530365 674.061357 224.327235 698.281183 253.155061 727.64327 296.964452 735.679443 315.886191 737.059617 367.286539 740.777183 422.070539 715.288487 463.364452 686.215791 479.548104 674.795965 507.262887 651.86727 533.753322 616.494748 474.383583 585.84153 400.277148 551.938226 321.050713 555.255096 280.580452 556.946922 251.5968 565.33927 230.404452 576.536487ZM983.262609 712.080696C1009.463652 650.573913 1024 582.967652 1024 512 1024 229.687652 794.334609 0 512 0 229.665391 0 0 229.687652 0 512 0 794.334609 229.665391 1024 512 1024 682.384696 1024 833.491478 940.27687 926.630957 811.876174 838.633739 768.133565 693.604174 696.141913 604.271304 652.577391 561.641739 701.17287 498.621217 749.879652 427.430957 771.072 382.70887 784.361739 342.394435 789.437217 300.232348 780.822261 258.493217 772.274087 227.750957 752.729043 209.830957 733.139478 200.704 723.144348 190.21913 710.433391 182.628174 695.318261 183.340522 697.232696 183.830261 698.368 183.830261 698.368 183.830261 698.368 179.46713 690.843826 176.128 678.867478 174.413913 673.079652 173.256348 667.046957 172.78887 660.72487 172.432696 656.584348 172.343652 652.221217 172.588522 647.68 172.210087 639.977739 172.521739 631.897043 174.258087 623.616 178.44313 603.38087 187.080348 579.806609 209.430261 557.924174 258.493217 509.885217 324.207304 507.302957 358.244174 507.503304 408.665043 507.792696 496.283826 529.853217 570.056348 555.942957 590.491826 512.422957 603.603478 465.875478 612.062609 434.843826L305.307826 434.843826 305.307826 401.67513 462.825739 401.67513 462.825739 335.337739 272.13913 335.337739 272.13913 302.169043 462.825739 302.169043 462.825739 235.853913C462.825739 226.749217 464.62887 219.269565 479.410087 219.269565L554.028522 219.269565 554.028522 302.169043 761.321739 302.169043 761.321739 335.337739 554.028522 335.337739 554.028522 401.67513 719.849739 401.67513C719.849739 401.67513 703.198609 494.502957 651.130435 585.99513 766.686609 627.266783 929.257739 690.843826 983.262609 712.080696Z" fill="#1296db" p-id="2857"></path></svg>
                              </a>
                            </div>
                            <div class="wx">
                              <a href="#">
                                <svg t="1628238718690" class="icon" viewBox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3044" width="46" height="46"><path d="M320.417684 308.224c-19.442526 0-39.073684 13.056-39.073684 32.848842 0 19.712 19.631158 32.929684 39.073684 32.929684 19.469474 0 32.525474-13.217684 32.525474-32.929684C352.943158 321.28 339.900632 308.224 320.417684 308.224z" fill="#3CB034" p-id="3045"></path><path d="M502.177684 374.016c19.631158 0 32.606316-13.231158 32.606316-32.929684 0-19.806316-12.975158-32.848842-32.606316-32.848842-19.442526 0-39.006316 13.056-39.006316 32.848842C463.184842 360.784842 482.735158 374.016 502.177684 374.016z" fill="#3CB034" p-id="3046"></path><path d="M512 0C229.214316 0 0 229.200842 0 512c0 282.785684 229.214316 512 512 512 282.799158 0 512.013474-229.214316 512.013474-512C1024.013474 229.200842 794.799158 0 512 0zM404.843789 644.082526c-32.444632 0-58.556632-6.642526-90.974316-13.217684l-90.799158 46.187789 25.936842-79.211789c-65.010526-46.066526-103.922526-105.364211-103.922526-177.650526 0-125.278316 116.992-223.905684 259.759158-223.905684 127.730526 0 239.602526 78.834526 262.036211 184.818526-8.178526-0.929684-16.559158-1.536-25.007158-1.536-123.392 0-220.820211 93.372632-220.820211 208.289684 0 19.213474 2.977684 37.645474 8.003368 55.228632C421.052632 643.745684 413.022316 644.082526 404.843789 644.082526zM787.968 736.242526l19.536842 65.886316L736.282947 762.610526c-26.044632 6.575158-52.048842 13.150316-77.918316 13.150316-123.567158 0-221.008842-85.598316-221.008842-190.976 0-105.283368 97.441684-191.056842 221.008842-191.056842 116.641684 0 220.577684 85.76 220.577684 191.056842C878.928842 644.082526 840.124632 696.656842 787.968 736.242526z" fill="#3CB034" p-id="3047"></path><path d="M729.532632 499.105684c-12.8 0-25.694316 13.231158-25.694316 26.381474 0 13.204211 12.894316 26.273684 25.694316 26.273684 19.536842 0 32.592842-13.069474 32.592842-26.273684C762.112 512.336842 749.069474 499.105684 729.532632 499.105684z" fill="#3CB034" p-id="3048"></path><path d="M586.657684 499.105684c-12.867368 0-25.923368 13.231158-25.923368 26.381474 0 13.204211 13.056 26.273684 25.923368 26.273684 19.712 0 32.525474-13.069474 32.525474-26.273684C619.183158 512.336842 606.369684 499.105684 586.657684 499.105684z" fill="#3CB034" p-id="3049"></path></svg>
                              </a>
                            </div>
                          </div>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
                <div class="code-login" v-show="switchMess === '密码登录'">
                  <div class="title">扫码登录 安全快捷</div>
                  <div class="qr-code">
                    <div class="pic">
                      <img class="pic-qr" src="../assets/img/icon/qrcode.png">
                      <img class="pic-logo" src="../assets/img/logo/logo41.png">
                    </div>
                    <div class="mask"></div>
                    <div class="flesh">
                      <p class="tip">二维码过期</p>
                      <p class="retry">刷新</p>
                    </div>
                  </div>
                  <div class="tips">
                    <div class="tips_content">
                      请使用小米手机/米家等小米旗下APP扫码登录
                      <i class="tips_icon" @mouseover.self="hoverHandle" @mouseleave.self="outHandle"></i>
                      <div class="tips-pop" v-show="tipShow">
                        <div class="pop-content">
                          <div class="pop-arrow"></div>
                          <div class="pop-inner">
                            <div class="tit">常用答疑</div>
                            <div class="content">
                              <div class="item">
                                <div class="ques">1.如何用小米手机扫一扫？</div>
                                <div class="ans">答：点击小米手机 - 设置 - 帐号头像 - 右上角扫一扫。</div>
                              </div>
                              <div class="item">
                                <div class="ques">2.小米旗下哪些App支持扫码登录？</div>
                                <div class="ans">答：目前包含米家、小米商城、小爱音箱。</div>
                              </div>
                              <div class="item">
                                <div class="ques">3.其他登录方式？</div>
                                <div class="ans">答：可以使用微信/微博/QQ客户端扫码授权登录。</div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="scan-app">
                    <div class="tit">支持扫码登录的APP</div>
                    <div class="logo">
                      <a href="#">
                        <img src="../assets/img/logo/mijia.png" alt="米家">
                        <span>米家</span>
                      </a>
                      <a href="#">
                        <img src="../assets/img/logo/logo46.png" alt="小米商城">
                        <span>小米商城</span>
                      </a>
                      <a href="#">
                        <img src="../assets/img/logo/xayx.png" alt="小爱音箱">
                        <span>小爱音箱</span>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="login-copyright">
              小米公司版权所有-京ICP备10046444-
              <a href="#">京公网安备11010802020134号</a>
              -京ICP证110507号
            </div>
          </div>
        </div>
      </div>
    </div>
    <alert-pop v-show="showPop"/>
    <drop-list v-show="showPop" :list="areaList"/>
  </div>
</template>

<script>
import '../assets/css/login.css'
import loginTop from '@/views/login-top.vue'
import alertPop from '@/views/alert-pop.vue'
import dropList from '@/views/drop-list.vue'
import loginInputText from '@/views/login-input-text.vue'
import loginInputPas from '@/views/login-input-pas.vue'
import loginInputArea from '@/views/login-input-area.vue'
import loginInputPhone from '@/views/login-input-phone.vue'
import loginInputCheck from '@/views/login-input-check.vue'
import loginInputSetPas from '@/views/login-input-setPas.vue'
import loginInputConfirm from '@/views/login-input-confirm.vue'

export default {
  name: 'Login',
    components: {
      loginTop,
      loginInputArea,
      alertPop,
      dropList,
      loginInputText,
      loginInputPas,
      loginInputPhone,
      loginInputCheck,
      loginInputSetPas,
      loginInputConfirm,
    },
    data () {
      return {
        switchClass: 'iconfont icon-saoma',
        switchMess: '扫码登录',
        pasMessShow: false,
        phoneMessShow: false,
        codeMessShow: false,
        setPasMessShow: false,
        cfPasMessShow: false,
        barShow: 0,
        toastShow: false,
        areaList:{
          A: [['阿富汗','+93'],['阿尔巴尼亚','+355'],['阿尔及利亚','+213']],
          B: [['巴哈马','+1'],['巴林','+973'],['孟加拉国','+880']],
          C: [['柬埔寨','+855'],['喀麦隆','+237'],['加拿大','+1'],['中国','+86']],
          D: [['丹麦','+45'],['吉布提','+253'],['多米尼克','+1']],
        },
        isSign:false,
        checked:false,
        tipShow:false,
      }
    },
    computed: {
      toastMess () {
        return this.$store.state.toastPopMess
      },
      barPosition () {
        return (this.barShow * 64) + 'px'
      },
      tabPos () {
        return this.barShow ? '0 0 0 -100%' : '0'
      },
      loginBtnActive(){
        if(this.$store.state.account && this.$store.state.password){
          return false
        }else{
          return true
        }
      },
      loginBtnOpacity(){
        if(this.$store.state.account && this.$store.state.password){
          return {opacity:1};
        }else{
          return {opacity:0.4};
        }
      },
      signBtnActive(){
        if(this.$store.state.phone && this.$store.state.checkNum &&!this.toastShow){
          return false
        }else{
          return true
        }
      },
      signBtnOpacity(){
        if(this.$store.state.phone && this.$store.state.checkNum &&!this.toastShow){
          return {"opacity":1};
        }else{
          return {"opacity":0.4};
        }
      },
      nextBtnActive(){
        if(this.$store.state.setPass && this.$store.state.confirmPass){
          return false
        }else{
          return true
        }
      },
      nextBtnOpacity(){
        if(this.$store.state.setPass && this.$store.state.confirmPass){
          return {opacity:1};
        }else{
          return {opacity:0.4};
        }
      },
      showPop(){
        return this.$store.state.areaPopShow
      },
      checkStyle() {
        if (this.checked) {
          return {
            backgroundImage:'url(' + require('../assets/img/icon/check-on.png') + ')'
          }
        }
      }
    },
    methods: {
      switchHandle () {
        if (this.switchClass === 'iconfont icon-saoma') {
          this.switchClass = 'iconfont icon-diannao'
          this.switchMess = '密码登录'
        } else {
          this.switchClass = 'iconfont icon-saoma'
          this.switchMess = '扫码登录'
        }
      },
      changeWay (num) {
        this.barShow = num
      },
      sendLogin(){
        let acc = this.$store.state.account
        let pas = this.$store.state.password
        if(this.$local.fetch(acc) === pas){
          this.$session.save('login','true')
          this.$session.save('user', acc)
          this.$router.push('/')
        }else{
          this.pasMessShow = !this.pasMessShow
        }
      },
      signHandle(){
        if(!this.checked) {
          this.$store.commit('changeMess', '请您同意用户条款')
          this.toastShow = true
          let that = this
          let timer = setTimeout(function () {
            that.toastShow = false
          }, 3000)
        }else if(this.$store.state.phone.length<11){
          this.phoneMessShow = !this.phoneMessShow;
        }else if(this.$store.state.checkNum.length<4){
          this.codeMessShow =!this.codeMessShow;
        }else if(typeof this.$local.fetch(this.$store.state.phone) === 'string'){
          this.$store.commit('changeMess', '手机号已被注册')
          this.toastShow = true
          let that = this
          let timer = setTimeout(function () {
            that.toastShow = false
          }, 3000)
        }else{
          this.isSign = true
        }
      },
      nextHandle(){
        if(this.$store.state.setPass.length<8){
          this.setPasMessShow = !this.setPasMessShow
        }else if(this.$store.state.setPass !== this.$store.state.confirmPass){
          this.cfPasMessShow = !this.cfPasMessShow
        }else{
          //注册成功
          this.$session.save('login','true')
          let acc = this.$store.state.phone
          let pas = this.$store.state.setPass
          this.$store.state.account = acc
          this.$store.state.password = pas
          this.$local.save(acc,pas)
          this.$session.save('user',acc)
          this.$router.push('/')
        }
      },
      dataInit(){
        this.$store.commit("changeAcc",'')
        this.$store.commit("changePas",'')
        this.$store.commit("changePhone",'')
        this.$store.commit("changeNum",'')
        this.$store.commit("changeSet",'')
        this.$store.commit("changeConfirm",'')
      },
      hoverHandle(){
        this.tipShow = true;
      },
      outHandle(){
        this.tipShow = false
      }
    },
    watch:{

    },
    created(){
      this.dataInit()
    }
  }
</script>
<style scoped>
.accept-terms .container{
  width: auto;
}
</style>
